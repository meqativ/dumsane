(function(){"use strict";function b(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function v(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,i,e){return i&&v(t.prototype,i),e&&v(t,e),t}let p=function(){function t(i){b(this,t),Object.defineProperty(this,"seeder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.seeder=this.xmur3(i)}return x(t,[{key:"random",value:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(i>e)throw new Error("The minimum value must be below the maximum value");if(i===e)throw new Error("The minimum value cannot equal the maximum value");return this.denormalize(this.sfc32(),i,e)}},{key:"randomInt",value:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Math.round(this.random(i,e))}},{key:"denormalize",value:function(i,e,n){return i*(n-e)+e}},{key:"xmur3",value:function(i){let e=1779033703^i.length;for(let n=0;n<i.length;n++)e=Math.imul(e^i.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}},{key:"sfc32",value:function(){let i=this.seeder(),e=this.seeder(),n=this.seeder(),a=this.seeder();i>>>=0,e>>>=0,n>>>=0,a>>>=0;let r=i+e|0;return i=e^e>>>9,e=n+(n<<3)|0,n=n<<21|n>>>11,a=a+1|0,r=r+a|0,n=n+r|0,(r>>>0)/4294967296}}]),t}();function A(t){return/^\p{L}/u.test(t)}function C(t){return t===t.toUpperCase()}function P(t){let i=0,e=0;for(const n of t)A(n)&&(C(n)&&e++,i++);return e/i}function g(){return function(t,i){let e=t[i],n=0;Object.defineProperty(t,i,{get:function(){return e},set:function(a){if(typeof a=="object"&&(n=Object.values(a).reduce(function(r,o){return r+o})),a<0||n<0||a>1||n>1)throw new Error(`${i} modifier value must be a number between 0 and 1`);e=a},enumerable:!0,configurable:!0})}}function M(t){if(!t||/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)||/%[^0-9a-f]/i.test(t)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t))return!1;const i=t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);if(!i)return!1;const[,e,n,a]=i;if(!(e&&e.length&&a.length>=0))return!1;if(n&&n.length){if(!(a.length===0||/^\//.test(a)))return!1}else if(/^\/\//.test(a))return!1;return!!/^[a-z][a-z0-9\+\-\.]*$/.test(e.toLowerCase())}function _(t){return t.charAt(0)==="@"}var w=function(t,i,e,n){var a=arguments.length,r=a<3?i:n===null?n=Object.getOwnPropertyDescriptor(i,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,i,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(i,e,r):o(i,e))||r);return a>3&&r&&Object.defineProperty(i,e,r),r};const u={SPACES:{faces:.05,actions:.075,stutters:.1},WORDS:1,EXCLAMATIONS:1};let l=function(){function t(){let{spaces:i=u.SPACES,words:e=u.WORDS,exclamations:n=u.EXCLAMATIONS}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{spaces:u.SPACES,words:u.WORDS,exclamations:u.EXCLAMATIONS};b(this,t),Object.defineProperty(this,"faces",{enumerable:!0,configurable:!0,writable:!0,value:["(\u30FB`\u03C9\xB4\u30FB)",";;w;;","OwO","UwU",">w<","^w^","\xDAw\xDA","^-^",":3","x3",";3",":3c"]}),Object.defineProperty(this,"exclamations",{enumerable:!0,configurable:!0,writable:!0,value:["!?","?!!","?!?1","!!11","?!?!"]}),Object.defineProperty(this,"actions",{enumerable:!0,configurable:!0,writable:!0,value:["*blushes*","*whispers to self*","*cries*","*screams*","*sweats*","*twerks*","*runs away*","*screeches*","*walks away*","*looks at you*","*starts twerking*","*huggles tightly*","*boops your nose*"]}),Object.defineProperty(this,"uwuMap",{enumerable:!0,configurable:!0,writable:!0,value:[[/(?:r|l)/g,"w"],[/(?:R|L)/g,"W"],[/n([aeiou])/g,"ny$1"],[/N([aeiou])/g,"Ny$1"],[/N([AEIOU])/g,"Ny$1"],[/ove/g,"uv"]]}),Object.defineProperty(this,"_spacesModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_wordsModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_exclamationsModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._spacesModifier=i??u.SPACES,this._wordsModifier=e??u.WORDS,this._exclamationsModifier=n??u.EXCLAMATIONS}return x(t,[{key:"uwuifyWords",value:function(i){var e=this;return i.split(" ").map(function(n){if(_(n)||M(n))return n;const a=new p(n);for(const[r,o]of e.uwuMap)a.random()>e._wordsModifier||(n=n.replace(r,o));return n}).join(" ")}},{key:"uwuifySpaces",value:function(i){var e=this;const n=i.split(" "),a=this._spacesModifier.faces,r=this._spacesModifier.actions+a,o=this._spacesModifier.stutters+r;return n.map(function(s,O){const d=new p(s),y=d.random(),[f]=s;if(y<=a&&e.faces)s+=" "+e.faces[d.randomInt(0,e.faces.length-1)],S();else if(y<=r&&e.actions)s+=" "+e.actions[d.randomInt(0,e.actions.length-1)],S();else if(y<=o&&!M(s)){const h=d.randomInt(0,2);return(f+"-").repeat(h)+s}function S(){if(f===f.toUpperCase()&&!(P(s)>.5))if(O===0)s=f.toLowerCase()+s.slice(1);else{const h=n[O-1],D=h[h.length-1];if(!new RegExp("[.!?\\-]").test(D))return;s=f.toLowerCase()+s.slice(1)}}return s}).join(" ")}},{key:"uwuifyExclamations",value:function(i){var e=this;const n=i.split(" "),a=new RegExp("[?!]+$");return n.map(function(r){const o=new p(r);return!a.test(r)||o.random()>e._exclamationsModifier||(r=r.replace(a,""),r+=e.exclamations[o.randomInt(0,e.exclamations.length-1)]),r}).join(" ")}},{key:"uwuifySentence",value:function(i){let e=i;return e=this.uwuifyWords(e),e=this.uwuifyExclamations(e),e=this.uwuifySpaces(e),e}}]),t}();w([g()],l.prototype,"_spacesModifier",void 0),w([g()],l.prototype,"_wordsModifier",void 0),w([g()],l.prototype,"_exclamationsModifier",void 0);const{React:m,ReactNative:j}=vendetta.metro.common,{plugin:{storage:c},storage:{useProxy:k},ui:{components:{Forms:N}}}=vendetta,{FormRow:R,FormSection:L,FormSwitch:I}=N,U=vendetta.metro.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default;function $(t,i){let{patches:e,reloadUwuifier:n,startMessageTransfoworming:a}=i;return k(c),m.createElement(j.ScrollView,{style:{flex:1}},[{label:"faces",default:!0,id:"cfg.spaces.faces"},{label:"actions",default:!0,id:"cfg.spaces.actions"},{label:"stutters",default:!0,id:"cfg.spaces.stutters"},{label:"words",default:!0,id:"cfg.words"},{label:"exclamations",default:!1,id:"cfg.exclamations"},{label:"Strength sliders will come when i figure out how to make em"},{id:"reload",style:{height:5,margin:8},name:"Reload uwuifier",onPress:function(){n(c),vendetta.ui.toasts.showToast("Reloaded uwuifier",vendetta.ui.assets.getAssetIDByName("check"))}}].map(function(r){return r?.id==="reload"?m.createElement(U,{style:r.style,text:r.name??"Unnamed",color:"brand",size:"small",disabled:!1,onPress:r.onPress??function(){}}):("id"in r&&!(r.id in c)&&(c[r.id]=r.default),m.createElement(R,{label:r?.label??r?.id??"no name",trailing:"id"in r?m.createElement(I,{value:c[r.id]??r.default,onValueChange:function(o){c[r.id]=o,cfg?.onValueChange?.(o)}}):void 0}))}))}function T(t,i,e){if(!t?.name||!t?.description)throw new Error(`No name(${t?.name}) or description(${t?.description}) in the passed command (command name: ${t?.name})`);if(t.displayName??=i?.names?.[e]??t.name,t.displayDescription??=i?.names?.[e]??t.description,t.options){if(!Array.isArray(t.options))throw new Error(`Options is not an array (received: ${typeof t.options})`);for(var n=0;n<t.options.length;n++){const r=t.options[n];if(!r?.name||!r?.description)throw new Error(`No name(${r?.name}) or description(${r?.description} in the option with index ${n}`);if(r.displayName??=i?.options?.[n]?.names?.[e]??r.name,r.displayDescription??=i?.options?.[n]?.descriptions?.[e]??r.description,r?.choices){if(!Array.isArray(r?.choices))throw new Error(`Choices is not an array (received: ${typeof r.choices})`);for(var a=0;a<r.choices.length;a++){const o=r.choices[a];if(!o?.name)throw new Error(`No name of choice with index ${a} in option with index ${n}`);o.displayName??=i?.options?.[n]?.choices?.[a]?.names?.[e]??o.name}}}}return t}let E=new l;reloadUwuifier})();
